import{r as e,j as s,c as t}from"./react-vendor-DZn__gkT.js";import{R as a,L as l,T as i,C as r,V as n,I as c,a as d,O as o,b as x,c as h,d as m,D as p,e as u,f as j,g as v,h as g,i as f,j as N,k as b,l as w,m as y,H as k,n as C,o as F,p as S}from"./radix-vendor-DUrlxRPG.js";import{C as R,c as A,X as z,a as V,I as T,b as L,V as E,d as q,M as P,S as M,e as U,f as H,E as D,g as I,h as B,i as O,j as G,B as $,W as _,F as Q,k as W,l as Y,L as Z,m as K,n as J,o as X,p as ee,q as se}from"./ui-utils-vendor-CIi_yc8Y.js";import{c as te,B as ae,u as le}from"./button-D0Qpo6P0.js";import{S as ie,I as re,a as ne,b as ce,c as de,d as oe,e as xe}from"./select--geUwo6J.js";import{u as he,a as me,l as pe,b as ue,g as je}from"./index-Nz6lSWE-.js";import{T as ve,a as ge,b as fe,c as Ne,u as be,v as we}from"./tooltip-BeXph3-U.js";const ye=e.forwardRef((({className:e,children:t,...l},i)=>s.jsxs(a,{ref:i,className:te("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...l,children:[t,s.jsx(Ae,{})]})));ye.displayName=a.displayName;const ke=e.forwardRef((({className:e,...t},a)=>s.jsx(l,{ref:a,className:te("group flex flex-1 list-none items-center justify-center space-x-1",e),...t})));ke.displayName=l.displayName;const Ce=d,Fe=A("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Se=e.forwardRef((({className:e,children:t,...a},l)=>s.jsxs(i,{ref:l,className:te(Fe(),"group",e),...a,children:[t," ",s.jsx(R,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})));Se.displayName=i.displayName;const Re=e.forwardRef((({className:e,...t},a)=>s.jsx(r,{ref:a,className:te("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t})));Re.displayName=r.displayName;const Ae=e.forwardRef((({className:e,...t},a)=>s.jsx("div",{className:te("absolute left-0 top-full flex justify-center"),children:s.jsx(n,{className:te("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:a,...t})})));Ae.displayName=n.displayName;e.forwardRef((({className:e,...t},a)=>s.jsx(c,{ref:a,className:te("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:s.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}))).displayName=c.displayName;const ze=u,Ve=j,Te=e.forwardRef((({className:e,...t},a)=>s.jsx(o,{ref:a,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));Te.displayName=o.displayName;const Le=e.forwardRef((({className:e,children:t,...a},l)=>s.jsxs(Ve,{children:[s.jsx(Te,{}),s.jsxs(x,{ref:l,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,s.jsxs(h,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));Le.displayName=x.displayName;const Ee=({className:e,...t})=>s.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ee.displayName="DialogHeader";const qe=({className:e,...t})=>s.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qe.displayName="DialogFooter";const Pe=e.forwardRef((({className:e,...t},a)=>s.jsx(m,{ref:a,className:te("text-lg font-semibold leading-none tracking-tight",e),...t})));Pe.displayName=m.displayName;const Me=e.forwardRef((({className:e,...t},a)=>s.jsx(p,{ref:a,className:te("text-sm text-muted-foreground",e),...t})));Me.displayName=p.displayName;const Ue=e.forwardRef((({className:e,...t},a)=>s.jsx(v,{className:te("grid gap-2",e),...t,ref:a})));Ue.displayName=v.displayName;const He=e.forwardRef((({className:e,...t},a)=>s.jsx(g,{ref:a,className:te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(f,{className:"flex items-center justify-center",children:s.jsx(V,{className:"h-2.5 w-2.5 fill-current text-current"})})})));He.displayName=g.displayName;const De=A("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=e.forwardRef((({className:e,...t},a)=>s.jsx(N,{ref:a,className:te(De(),e),...t})));Ie.displayName=N.displayName;const Be=e.forwardRef((({className:e,...t},a)=>s.jsx(b,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:s.jsx(w,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));Be.displayName=b.displayName;const Oe={wav2lip:{id:"wav2lip",name:"Wav2Lip",description:"Fast lipsync with good accuracy",features:["Fast processing time","Good lip synchronization","Works with most face angles"],recommendedFor:["Fast iteration","General purpose lip-syncing","Standard talking head videos"]},sadtalker:{id:"sadtalker",name:"SadTalker",description:"3D-aware talking head animation",features:["Head pose control","Natural facial expressions","Still mode for fewer head movements","Expression intensity adjustment","Face enhancement options","Multiple preprocessing modes (crop/resize/full)","Reference video for eyeblinks and poses","3D face visualization","Free-view control (yaw/pitch/roll)"],recommendedFor:["Natural head movements","Expressive face animations","Creative presentations","Novel view generation","Full body animations"]}};const Ge=({engineId:e,isSelected:t=!1,onClick:a,showDetails:l=!1})=>{const i=function(e){return Oe[e]||Oe.wav2lip}(e);return s.jsxs("div",{className:`flex items-start p-3 rounded-md transition-colors ${t?"bg-white/10 border border-purple-300/30":"hover:bg-white/5 border border-transparent"} ${a?"cursor-pointer":""}`,onClick:a,children:[s.jsx("div",{className:"flex-shrink-0 mr-3 mt-1",children:(()=>{switch(e){case"wav2lip":default:return s.jsx(E,{className:"h-5 w-5 text-purple-300"});case"sadtalker":return s.jsx(P,{className:"h-5 w-5 text-purple-300"});case"geneface":return s.jsx(q,{className:"h-5 w-5 text-purple-300"})}})()}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-sm font-semibold text-white flex items-center",children:[i.name,l&&s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsxs("div",{className:"max-w-[250px]",children:[s.jsx("p",{className:"text-xs mb-2",children:i.description}),s.jsx("div",{className:"text-xs font-semibold mb-1",children:"Features:"}),s.jsx("ul",{className:"text-xs list-disc pl-4 space-y-1",children:i.features.map(((e,t)=>s.jsx("li",{children:e},t)))})]})})]})})]}),t&&s.jsx(L,{className:"h-4 w-4 text-green-400"})]}),s.jsx("p",{className:"text-xs text-gray-300 mb-1",children:i.description}),l&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-white/70 mb-1",children:"Best for:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.recommendedFor.map(((e,t)=>s.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-700/30 rounded-full text-purple-200",children:e},t)))})]})]})]})},$e=({status:e})=>{const t=(e=>{switch(e){case"ready":return"bg-green-500";case"loading":return"bg-yellow-500";default:return"bg-red-500"}})(e),a=(e=>{switch(e){case"ready":return"Engine Ready";case"loading":return"Engine Loading...";case"error":return"Engine Error / Unavailable";default:return"Engine Idle / Not Preloaded"}})(e),l="loading"===e;return s.jsx(ve,{delayDuration:100,children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx("div",{className:"flex items-center space-x-1 cursor-default",children:[...Array(3)].map(((e,a)=>s.jsx("span",{className:te("h-2 w-2 rounded-full",t,l&&"animate-pulse")},a)))})}),s.jsx(Ne,{side:"bottom",align:"end",children:s.jsx("p",{children:a})})]})})},_e=S,Qe=e.forwardRef((({className:e,...t},a)=>s.jsx(y,{ref:a,className:te("border-b",e),...t})));Qe.displayName="AccordionItem";const We=e.forwardRef((({className:e,children:t,...a},l)=>s.jsx(k,{className:"flex",children:s.jsxs(C,{ref:l,className:te("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...a,children:[t,s.jsx(R,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})));We.displayName=C.displayName;const Ye=e.forwardRef((({className:e,children:t,...a},l)=>s.jsx(F,{ref:l,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:s.jsx("div",{className:te("pb-4 pt-0",e),children:t})})));Ye.displayName=F.displayName;const Ze=()=>{var a,l,i,r;const{lipsyncSettings:n,updateLipsyncSettings:c}=he(),[d,o]=e.useState(null),x=t.useRef(null),h=t.useRef(null),m=(e,s)=>{c({[e]:s});const t=e.replace(/([A-Z])/g,"_$1").toLowerCase();be({[t]:s}).catch((e=>{}))},p=(e,s)=>{var t;const a=null==(t=s.target.files)?void 0:t[0];if(a)if("eyeblink"===e){o(a);const e=URL.createObjectURL(a);m("refEyeblink",e)}else if("pose"===e){o(a);const e=URL.createObjectURL(a);m("refPose",e)}};return s.jsxs("div",{className:"p-3 bg-white/5 rounded-md border border-purple-300/10",children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"SadTalker Advanced Settings"}),s.jsxs(_e,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Qe,{value:"basic-settings",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(M,{className:"h-4 w-4 mr-2 text-purple-300"}),"Basic Settings"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"still-mode",checked:n.stillMode||!1,onCheckedChange:e=>m("stillMode",e)}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"still-mode",className:"text-white flex items-center",children:["Still Mode",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Use the same pose parameters as the original image. Results in fewer head movements."})})]})})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Reduce head motion"})]})]})}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"expression-scale",className:"text-white flex items-center",children:["Expression Intensity",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls the intensity of facial expressions. Higher values make expressions stronger."})})]})})]}),s.jsx(ie,{id:"expression-scale",value:[n.expressionScale||1],min:.1,max:2,step:.1,onValueChange:([e])=>m("expressionScale",e)}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[s.jsx("span",{children:"Subtle"}),s.jsx("span",{children:(null==(a=n.expressionScale)?void 0:a.toFixed(1))||"1.0"}),s.jsx("span",{children:"Exaggerated"})]})]}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"batch-size",className:"text-white flex items-center",children:["Batch Size",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Number of frames processed at once. Higher values use more GPU but can be faster."})})]})})]}),s.jsx(ie,{id:"batch-size",value:[n.batchSize||2],min:1,max:8,step:1,onValueChange:([e])=>m("batchSize",e)}),s.jsx("div",{className:"text-xs text-white mt-1 text-right",children:n.batchSize||2})]})]})})]}),s.jsxs(Qe,{value:"preprocess-mode",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(U,{className:"h-4 w-4 mr-2 text-purple-300"}),"Preprocess Mode"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs(Ue,{value:n.preprocessMode||"crop",onValueChange:e=>m("preprocessMode",e),className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"crop",id:"preprocess-crop"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"preprocess-crop",className:"text-sm font-medium text-white",children:"Crop"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Only animates the cropped face region"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"resize",id:"preprocess-resize"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"preprocess-resize",className:"text-sm font-medium text-white",children:"Resize"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Resizes whole image for ID-photo style"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"full",id:"preprocess-full"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"preprocess-full",className:"text-sm font-medium text-white",children:"Full"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Animates face and places back in full image"})]})]})]}),s.jsxs("div",{className:"text-xs p-2 bg-purple-900/20 rounded text-purple-200 flex items-start",children:[s.jsx(T,{className:"h-3.5 w-3.5 mr-1 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:'For full-body images, use "Crop" mode for face close-ups or "Full" mode with Still Mode enabled.'})]})]})})]}),s.jsxs(Qe,{value:"enhancer-settings",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(H,{className:"h-4 w-4 mr-2 text-purple-300"}),"Enhancement Options"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"use-enhancer",checked:n.useEnhancer||!1,onCheckedChange:e=>m("useEnhancer",e)}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"use-enhancer",className:"text-white",children:"Use Face Enhancer"}),s.jsx("p",{className:"text-xs text-gray-400",children:"GFPGAN face restoration (higher quality, slower)"})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"pose-style",className:"text-white mb-2",children:"Pose Style"}),s.jsx(ie,{id:"pose-style",value:[n.poseStyle||0],min:0,max:45,step:5,onValueChange:([e])=>m("poseStyle",e)}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[s.jsx("span",{children:"Subtle"}),s.jsx("span",{children:n.poseStyle||0}),s.jsx("span",{children:"Dramatic"})]})]})]})})]}),s.jsxs(Qe,{value:"reference-video",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(E,{className:"h-4 w-4 mr-2 text-purple-300"}),"Reference Videos"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"ref-eyeblink",className:"text-white flex items-center",children:["Reference Video (Eyeblinks)",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Borrow eyeblink patterns from a reference video for more natural eye movements."})})]})})]}),s.jsxs("div",{className:"flex mt-1 gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=x.current)?void 0:e.click()},className:"text-xs",children:[s.jsx(D,{className:"h-3.5 w-3.5 mr-1"}),"Select Video"]}),n.refEyeblink&&s.jsx("div",{className:"text-xs bg-purple-900/20 rounded px-2 py-1 text-white flex-1 truncate",children:"Reference video selected"})]}),s.jsx("input",{type:"file",ref:x,className:"hidden",accept:"video/*",onChange:e=>p("eyeblink",e)})]}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"ref-pose",className:"text-white flex items-center",children:["Reference Video (Pose)",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Borrow head pose movements from a reference video for more natural motion."})})]})})]}),s.jsxs("div",{className:"flex mt-1 gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},className:"text-xs",children:[s.jsx(I,{className:"h-3.5 w-3.5 mr-1"}),"Select Video"]}),n.refPose&&s.jsx("div",{className:"text-xs bg-purple-900/20 rounded px-2 py-1 text-white flex-1 truncate",children:"Reference video selected"})]}),s.jsx("input",{type:"file",ref:h,className:"hidden",accept:"video/*",onChange:e=>p("pose",e)})]})]})})]}),s.jsxs(Qe,{value:"advanced-features",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(B,{className:"h-4 w-4 mr-2 text-purple-300"}),"Advanced Features"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"face3d-vis",checked:n.face3dVis||!1,onCheckedChange:e=>m("face3dVis",e)}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"face3d-vis",className:"text-white",children:"3D Face Visualization"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Generate 3D rendered face"})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsxs(Ie,{className:"text-white flex items-center",children:["Free View Controls",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Control head rotation angles. Add 2-3 values to define keyframes for movement."})})]})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Ie,{htmlFor:"input-yaw",className:"text-xs text-gray-300",children:"Yaw (Left-Right)"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(re,{id:"input-yaw",placeholder:"-20 30 10",className:"bg-slate-700 border-slate-600 text-white",value:(null==(l=n.inputYaw)?void 0:l.join(" "))||"",onChange:e=>{const s=e.target.value.split(" ").map((e=>parseFloat(e))).filter((e=>!isNaN(e)));m("inputYaw",s.length>0?s:void 0)}}),s.jsx(O,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Values between -90 and 90"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Ie,{htmlFor:"input-pitch",className:"text-xs text-gray-300",children:"Pitch (Up-Down)"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(re,{id:"input-pitch",placeholder:"-20 0 20",className:"bg-slate-700 border-slate-600 text-white",value:(null==(i=n.inputPitch)?void 0:i.join(" "))||"",onChange:e=>{const s=e.target.value.split(" ").map((e=>parseFloat(e))).filter((e=>!isNaN(e)));m("inputPitch",s.length>0?s:void 0)}}),s.jsx(O,{className:"h-4 w-4 text-gray-400 rotate-90"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Values between -90 and 90"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(Ie,{htmlFor:"input-roll",className:"text-xs text-gray-300",children:"Roll (Tilt)"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(re,{id:"input-roll",placeholder:"-10 0 10",className:"bg-slate-700 border-slate-600 text-white",value:(null==(r=n.inputRoll)?void 0:r.join(" "))||"",onChange:e=>{const s=e.target.value.split(" ").map((e=>parseFloat(e))).filter((e=>!isNaN(e)));m("inputRoll",s.length>0?s:void 0)}}),s.jsx(O,{className:"h-4 w-4 text-gray-400 rotate-45"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Values between -90 and 90"})]})]})]})})]})]}),s.jsx("div",{className:"text-xs text-purple-200/70 mt-4 p-2 bg-purple-900/20 rounded",children:s.jsxs("p",{className:"flex items-start",children:[s.jsx(T,{className:"h-3.5 w-3.5 mr-1 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:'For best results with full body images, use "still" mode with "full" preprocess mode. Use "crop" mode for facial close-ups.'})]})})]})},Ke=()=>{var a,l,i,r;const{lipsyncSettings:n,updateLipsyncSettings:c}=he();e.useState(null),t.useRef(null);const d=(e,s)=>{c({[e]:s});const t=e.replace(/([A-Z])/g,"_$1").toLowerCase();be({[t]:s}).catch((e=>{}))};return s.jsxs("div",{className:"p-3 bg-white/5 rounded-md border border-purple-300/10",children:[s.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"GeneFace Advanced Settings"}),s.jsxs(_e,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Qe,{value:"quality-settings",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(G,{className:"h-4 w-4 mr-2 text-purple-300"}),"Quality Settings"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"quality-level",className:"text-white flex items-center",children:["Quality Level",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls the render quality. Higher values produce better results but take longer."})})]})})]}),s.jsx(ie,{id:"quality-level",value:[n.quality],min:10,max:100,step:10,onValueChange:([e])=>d("quality",e)}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[s.jsx("span",{children:"Faster"}),s.jsxs("span",{children:[n.quality,"%"]}),s.jsx("span",{children:"Higher Quality"})]})]}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"frame-rate",className:"text-white flex items-center",children:["Frame Sampling Rate",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls how many frames are rendered per second. Higher values are smoother but slower."})})]})})]}),s.jsxs(ne,{value:(null==(a=n.frameRate)?void 0:a.toString())||"25",onValueChange:e=>d("frameRate",parseInt(e)),children:[s.jsx(ce,{className:"bg-slate-700 border-slate-600 text-white",children:s.jsx(de,{placeholder:"Select frame rate"})}),s.jsxs(oe,{className:"bg-slate-800 border-slate-700 text-white",children:[s.jsx(xe,{value:"15",children:"15 FPS"}),s.jsx(xe,{value:"25",children:"25 FPS"}),s.jsx(xe,{value:"30",children:"30 FPS"}),s.jsx(xe,{value:"60",children:"60 FPS"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"high-quality-mode",checked:n.useHighQualityMode||!1,onCheckedChange:e=>d("useHighQualityMode",e)}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"high-quality-mode",className:"text-white flex items-center",children:["High Quality Mode",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Enables super-resolution and additional enhancements. Significantly slower but higher quality."})})]})})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Higher quality but much slower"})]})]})]})})]}),s.jsxs(Qe,{value:"model-settings",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($,{className:"h-4 w-4 mr-2 text-purple-300"}),"Neural Model Settings"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"model-type",className:"text-white mb-2",children:"Neural Model Type"}),s.jsxs(Ue,{value:n.neuralModelType||"standard",onValueChange:e=>d("neuralModelType",e),className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"standard",id:"model-standard"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"model-standard",className:"text-sm font-medium text-white",children:"Standard"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Balanced performance and quality"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"lightweight",id:"model-lightweight"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"model-lightweight",className:"text-sm font-medium text-white",children:"Lightweight"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Faster but lower quality"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"enhanced",id:"model-enhanced"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"model-enhanced",className:"text-sm font-medium text-white",children:"Enhanced"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Higher quality but much slower"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"expression-intensity",className:"text-white flex items-center",children:["Expression Intensity",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls the intensity of facial expressions. Higher values make expressions more pronounced."})})]})})]}),s.jsx(ie,{id:"expression-intensity",value:[n.expressionIntensity||1],min:.5,max:2,step:.1,onValueChange:([e])=>d("expressionIntensity",e)}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[s.jsx("span",{children:"Subtle"}),s.jsx("span",{children:(null==(l=n.expressionIntensity)?void 0:l.toFixed(1))||"1.0"}),s.jsx("span",{children:"Exaggerated"})]})]})]})})]}),s.jsxs(Qe,{value:"enhancement-options",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(H,{className:"h-4 w-4 mr-2 text-purple-300"}),"Enhancement Options"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"enable-post-processing",checked:n.enablePostProcessing||!1,onCheckedChange:e=>d("enablePostProcessing",e)}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"enable-post-processing",className:"text-white",children:"Enable Post-Processing"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Apply additional enhancement filters"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"preserve-background",checked:n.preserveBackground||!0,onCheckedChange:e=>d("preserveBackground",e)}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"preserve-background",className:"text-white",children:"Preserve Background"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Keep original background intact"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"enable-super-resolution",checked:n.enableSuperResolution||!1,onCheckedChange:e=>d("enableSuperResolution",e)}),s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"enable-super-resolution",className:"text-white flex items-center",children:["Super Resolution",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Uses AI to enhance the resolution of output videos. Significantly increases processing time."})})]})})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Enhance output resolution using AI"})]})]}),n.enableSuperResolution&&s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"upscale-factor",className:"text-white mb-2",children:"Upscale Factor"}),s.jsxs(Ue,{value:(null==(i=n.upscaleFactor)?void 0:i.toString())||"2",onValueChange:e=>d("upscaleFactor",parseInt(e)),className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(He,{value:"2",id:"upscale-2x"}),s.jsx(Ie,{htmlFor:"upscale-2x",className:"text-sm text-white",children:"2x"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(He,{value:"4",id:"upscale-4x"}),s.jsx(Ie,{htmlFor:"upscale-4x",className:"text-sm text-white",children:"4x"})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Higher values need more VRAM"})]})]})})]}),s.jsxs(Qe,{value:"advanced-settings",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_,{className:"h-4 w-4 mr-2 text-purple-300"}),"Advanced Options"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsxs(Ie,{htmlFor:"batch-size",className:"text-white flex items-center",children:["Batch Size",s.jsx(ve,{children:s.jsxs(ge,{children:[s.jsx(fe,{asChild:!0,children:s.jsx(T,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),s.jsx(Ne,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:s.jsx("p",{className:"text-xs max-w-[200px]",children:"Number of frames processed simultaneously. Higher values need more VRAM but can be faster."})})]})})]}),s.jsx(ie,{id:"batch-size",value:[n.batchSize||4],min:1,max:16,step:1,onValueChange:([e])=>d("batchSize",e)}),s.jsx("div",{className:"text-xs text-white mt-1 text-right",children:n.batchSize||4})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"gpu-acceleration",className:"text-white mb-2",children:"GPU Acceleration Level"}),s.jsxs(Ue,{value:n.gpuAcceleration||"auto",onValueChange:e=>d("gpuAcceleration",e),className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"auto",id:"gpu-auto"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"gpu-auto",className:"text-sm font-medium text-white",children:"Auto"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Automatically detect best settings"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"balanced",id:"gpu-balanced"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"gpu-balanced",className:"text-sm font-medium text-white",children:"Balanced"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Balance GPU memory and speed"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"max",id:"gpu-max"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"gpu-max",className:"text-sm font-medium text-white",children:"Maximum"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Use maximum GPU resources"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"precision",className:"text-white mb-2",children:"Computation Precision"}),s.jsxs(Ue,{value:n.precision||"fp16",onValueChange:e=>d("precision",e),className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"fp32",id:"precision-fp32"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"precision-fp32",className:"text-sm font-medium text-white",children:"FP32"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Full precision (slower, more accurate)"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[s.jsx(He,{value:"fp16",id:"precision-fp16"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"precision-fp16",className:"text-sm font-medium text-white",children:"FP16"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Half precision (faster, less VRAM)"})]})]})]})]})]})})]}),s.jsxs(Qe,{value:"audio-settings",className:"border-b border-purple-300/30",children:[s.jsx(We,{className:"text-sm text-white hover:no-underline",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Q,{className:"h-4 w-4 mr-2 text-purple-300"}),"Audio Processing"]})}),s.jsx(Ye,{children:s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"enable-audio-preprocessing",checked:n.enableAudioPreprocessing||!0,onCheckedChange:e=>d("enableAudioPreprocessing",e)}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"enable-audio-preprocessing",className:"text-white",children:"Audio Preprocessing"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Clean and normalize audio before processing"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"enable-audio-normalization",checked:n.enableAudioNormalization||!0,onCheckedChange:e=>d("enableAudioNormalization",e)}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"enable-audio-normalization",className:"text-white",children:"Audio Normalization"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Standardize volume levels"})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"audio-sample-rate",className:"text-white mb-2",children:"Audio Sample Rate"}),s.jsxs(ne,{value:(null==(r=n.audioSampleRate)?void 0:r.toString())||"48000",onValueChange:e=>d("audioSampleRate",parseInt(e)),children:[s.jsx(ce,{className:"bg-slate-700 border-slate-600 text-white",children:s.jsx(de,{placeholder:"Select sample rate"})}),s.jsxs(oe,{className:"bg-slate-800 border-slate-700 text-white",children:[s.jsx(xe,{value:"16000",children:"16 kHz (Lower quality)"}),s.jsx(xe,{value:"24000",children:"24 kHz (Standard)"}),s.jsx(xe,{value:"44100",children:"44.1 kHz (CD quality)"}),s.jsx(xe,{value:"48000",children:"48 kHz (Professional)"})]})]})]})]})})]})]}),s.jsx("div",{className:"text-xs text-purple-200/70 mt-4 p-2 bg-purple-900/20 rounded",children:s.jsxs("p",{className:"flex items-start",children:[s.jsx(T,{className:"h-3.5 w-3.5 mr-1 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"GeneFace provides high-quality neural rendering. For best results, use high-quality images with good lighting and clear faces."})]})})]})},Je=({onTTSToggle:t,onFileSelected:a,onLipsyncSettingsChange:l,onTrainVoiceRequest:i,onTaskIdUpdate:r,taskIds:n})=>{const{toast:c}=le(),{currentEngine:d,engineStatus:o,engines:x,isEngineReady:h,changeEngine:m}=me(),[p,u]=e.useState(!1),j=e.useRef(null),v=e.useRef(null),g=e.useRef(null),[f,N]=e.useState(0),[b,w]=e.useState(0),[y,k]=e.useState(!1),[C,F]=e.useState(!1),[S,R]=e.useState(!1),[A,z]=e.useState(!1),[V,T]=e.useState(!1),[L,U]=e.useState(!1),[H,D]=e.useState(!1),[I,B]=e.useState(!1),[O,$]=e.useState({modelName:"",epochs:200,batchSize:4,sampleRate:4e4,rvcVersion:"v2"}),[_,Q]=e.useState({algorithm:d,quality:70,useBeatAnalysis:!1,faceDetectionThreshold:.5,useLyricAlignment:!1});e.useEffect((()=>{Q((e=>({...e,algorithm:d})))}),[d]);const te=()=>{U(!0)},re=async e=>{try{const s={..._,...e};Q(s),l&&l(s),await pe.updateSettings(s),c({title:"Settings Updated",description:"Lipsync settings have been saved successfully."})}catch(s){c({title:"Settings Update Failed",description:"Failed to update lipsync settings. Please try again.",variant:"destructive"})}},ne=async()=>{var e;if(O.modelName)if((null==(e=g.current)?void 0:e.files)&&0!==g.current.files.length)try{const e=new FormData;e.append("model_name",O.modelName),e.append("epochs",O.epochs.toString()),e.append("batch_size",O.batchSize.toString()),e.append("sample_rate",O.sampleRate.toString()),e.append("rvc_version",O.rvcVersion),Array.from(g.current.files).forEach((s=>{e.append("training_files",s)}));await we.train(e);c({title:"Voice Training Started",description:`Training job for "${O.modelName}" has been initiated. This may take several hours.`}),U(!1),i&&i()}catch(s){c({title:"Training Error",description:"Failed to start voice training.",variant:"destructive"})}else c({title:"Training Files Required",description:"Please select audio files for voice training.",variant:"destructive"});else c({title:"Model Name Required",description:"Please enter a name for your voice model.",variant:"destructive"})};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"fixed top-0 w-full border-b border-purple-500 bg-[#7C3AED] backdrop-blur-sm z-10",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{className:"h-8 w-8 mr-2 text-white"}),s.jsx("span",{className:"text-xl font-semibold text-white",children:"CloneSync"})]}),s.jsx("div",{className:"flex-1 flex justify-center",children:s.jsx(ye,{children:s.jsxs(ke,{children:[s.jsxs(Ce,{children:[s.jsxs(Se,{className:"text-white bg-purple-800/50 hover:bg-purple-800/70 border border-purple-300/30",children:[s.jsx(W,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),s.jsx("span",{className:"text-white font-medium",children:"Media"})]}),s.jsx(Re,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:s.jsxs("div",{className:"w-[280px] p-4",children:[s.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Open Media Files"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{onClick:()=>{v.current&&(v.current.setAttribute("data-purpose","media-player"),v.current.click())},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(E,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Open Video"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Load a video file for playback"})]})]}),s.jsxs("div",{onClick:()=>{j.current&&(j.current.setAttribute("data-purpose","media-player"),j.current.click())},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(Y,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Open Audio"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Load an audio file for playback"})]})]}),s.jsx("div",{className:"my-1 border-t border-slate-700"}),s.jsx("div",{className:"text-xs text-slate-400 p-2",children:"Files loaded here will be available for playback in the media player without being processed for lip-syncing."})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Se,{className:"text-white bg-purple-800/50 hover:bg-purple-800/70 border border-purple-300/30",children:[s.jsx(Z,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),s.jsx("span",{className:"text-white font-medium",children:"Lipsync Engines"})]}),s.jsx(Re,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:s.jsxs("div",{className:"w-[320px] p-4",children:[s.jsx("h3",{className:"mb-2 text-lg font-medium text-white flex items-center justify-between",children:"Select Lipsync Engine"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(Oe).map((e=>s.jsx(Ge,{engineId:e,isSelected:_.algorithm===e,onClick:()=>{return re({algorithm:s=e}),m(s),void c({title:"Lipsync Engine Changed",description:`Switched to ${s.charAt(0).toUpperCase()+s.slice(1)} lipsync engine.`});var s},showDetails:!1},e)))}),s.jsx("div",{className:"my-1 border-t border-slate-700"}),s.jsxs("div",{className:"text-xs text-slate-400 p-2",children:["Current Engine: ",s.jsx("span",{className:"text-purple-300 font-semibold",children:(ce=_.algorithm,(null==(de=Oe[ce])?void 0:de.name)||ce.charAt(0).toUpperCase()+ce.slice(1))}),s.jsx("br",{}),"Status: ",h?s.jsx("span",{className:"text-green-400",children:"Ready"}):s.jsx("span",{className:"text-yellow-400",children:"Loading..."})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(Se,{onClick:()=>{},className:"text-white bg-purple-800/50 hover:bg-purple-800/70 border border-purple-300/30",children:[s.jsx(M,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),s.jsx("span",{className:"text-white font-medium",children:"Settings"})]}),s.jsx(Re,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:s.jsxs("div",{className:"w-[400px] p-4",children:[s.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Advanced Lipsync Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{onClick:()=>{k(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(G,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Quality Settings"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Adjust quality and performance"})]})]}),s.jsxs("div",{onClick:()=>{F(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(E,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Lipsync Algorithm"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Choose Wav2Lip, SadTalker, or GeneFace"})]})]}),s.jsxs("div",{onClick:()=>{R(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(K,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Beat Analysis"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Sync speech to audio beats"})]})]}),s.jsxs("div",{onClick:()=>{z(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(J,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Face Detection"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Tune face detection settings"})]})]}),"sadtalker"===_.algorithm&&s.jsxs("div",{onClick:()=>D(!0),className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white ml-4 border-l-2 border-purple-500",children:[s.jsx(P,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"SadTalker Options"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Advanced 3D face controls"})]})]}),s.jsxs("div",{onClick:te,className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white ml-4 border-l-2 border-purple-300",children:[s.jsx(X,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Train Voice"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Create custom voice models"})]})]}),s.jsxs("div",{onClick:()=>{T(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[s.jsx(ee,{className:"h-5 w-5 text-purple-300"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Lyric Alignment"}),s.jsx("div",{className:"text-xs text-gray-300",children:"Fine-tune word synchronization"})]})]})]})]})})]}),s.jsx(Ce,{children:s.jsxs(Se,{onClick:()=>{u(!p),t()},className:p?"bg-purple-800 text-white":"text-white bg-purple-800/30 hover:bg-purple-800/50",children:[s.jsx(se,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),s.jsx("span",{className:"text-white",children:"TTS"})]})}),s.jsxs(Ce,{children:[s.jsxs(Se,{onClick:te,className:"text-white bg-purple-800/30 hover:bg-purple-800/50",children:[s.jsx(X,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),s.jsx("span",{className:"text-white",children:"Train Voice"})]}),s.jsxs(Re,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:[s.jsxs("div",{className:"w-[280px] p-4",children:[s.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Quick Voice Training"}),s.jsxs("div",{className:"space-y-3 text-white",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"dropdown-voice-model-name",className:"block mb-1 text-sm font-medium text-white",children:"Voice Model Name"}),s.jsx("input",{type:"text",id:"dropdown-voice-model-name",value:O.modelName,onChange:e=>$({...O,modelName:e.target.value}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",placeholder:"MyCustomVoice"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-model-type",className:"text-white",children:"Voice Model Type"}),s.jsxs("select",{id:"voice-model-type",className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",children:[s.jsx("option",{value:"rvc",children:"RVC (All Engines)"}),s.jsx("option",{value:"wav2lip_compatible",children:"Wav2Lip Compatible"}),s.jsx("option",{value:"sadtalker_compatible",children:"SadTalker Compatible"}),s.jsx("option",{value:"geneface_compatible",children:"GeneFace Compatible"})]}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"RVC works with all lip sync engines"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-rvc-version",className:"text-white",children:"RVC Version"}),s.jsxs("select",{id:"voice-rvc-version",value:O.rvcVersion,onChange:e=>$({...O,rvcVersion:e.target.value}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",children:[s.jsx("option",{value:"v1",children:"v1"}),s.jsx("option",{value:"v2",children:"v2 (Recommended)"})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-epochs",children:"Training Epochs"}),s.jsx("input",{type:"number",id:"voice-epochs",value:O.epochs,onChange:e=>$({...O,epochs:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",min:50,max:1e3}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Recommended: 200+ for best quality"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-batch-size",children:"Batch Size"}),s.jsx("input",{type:"number",id:"voice-batch-size",value:O.batchSize,onChange:e=>$({...O,batchSize:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",min:1,max:16}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Lower for less GPU memory"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-sample-rate",children:"Sample Rate"}),s.jsxs("select",{id:"voice-sample-rate",value:O.sampleRate,onChange:e=>$({...O,sampleRate:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",children:[s.jsx("option",{value:32e3,children:"32 kHz"}),s.jsx("option",{value:4e4,children:"40 kHz (Recommended)"}),s.jsx("option",{value:48e3,children:"48 kHz"})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ie,{htmlFor:"voice-training-files",children:"Training Audio Files"}),s.jsx("div",{className:"mt-1 flex gap-2",children:s.jsx(ae,{variant:"outline",onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},className:"w-full",children:"Select Audio Files"})}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Select 10+ minutes of clean voice recordings. More training data results in better quality."})]})]})]}),s.jsxs(qe,{children:[s.jsx(ae,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),s.jsx(ae,{onClick:ne,children:"Start Training"})]})]})]})]})})}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx($e,{status:o})})]})}),s.jsx(ze,{open:y,onOpenChange:k,children:s.jsxs(Le,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"Lipsync Quality Settings"}),s.jsx(Me,{children:"Adjust the quality settings for the lipsync algorithm."})]}),s.jsxs("div",{className:"py-4",children:[s.jsxs(Ie,{htmlFor:"quality-slider",children:["Quality: ",_.quality]}),s.jsx(ie,{id:"quality-slider",min:0,max:100,step:1,defaultValue:[_.quality],onValueChange:e=>{re({quality:e[0]})}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values decrease processing time but also reduce quality. Higher values increase quality but may slow down processing."})]}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>{re({quality:_.quality}),k(!1)},children:"Save Changes"})})]})}),s.jsx(ze,{open:C,onOpenChange:F,children:s.jsxs(Le,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"Lipsync Algorithm"}),s.jsx(Me,{children:"Select the algorithm used for lipsyncing."})]}),s.jsx("div",{className:"py-4",children:s.jsxs(Ue,{value:_.algorithm,onValueChange:e=>{re({algorithm:e})},className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-slate-700 text-white",children:[s.jsx(He,{value:"wav2lip",id:"algorithm-wav2lip"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"algorithm-wav2lip",className:"text-sm font-medium text-white",children:"Wav2Lip"}),s.jsx("p",{className:"text-xs text-gray-300",children:"Standard lip sync with good quality"})]})]}),s.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-slate-700 text-white",children:[s.jsx(He,{value:"sadtalker",id:"algorithm-sadtalker"}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"algorithm-sadtalker",className:"text-sm font-medium text-white",children:"SadTalker"}),s.jsx("p",{className:"text-xs text-gray-300",children:"More expressive facial animations"})]})]})]})}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>{re({algorithm:_.algorithm}),F(!1)},children:"Save Changes"})})]})}),s.jsx(ze,{open:S,onOpenChange:R,children:s.jsxs(Le,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"Beat Analysis Settings"}),s.jsx(Me,{children:"Configure audio beat analysis for improved lip synchronization timing."})]}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"beat-analysis",checked:_.useBeatAnalysis,onCheckedChange:e=>{re({useBeatAnalysis:e})}}),s.jsx(Ie,{htmlFor:"beat-analysis",children:"Enable Beat Analysis"})]})}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>{re({useBeatAnalysis:_.useBeatAnalysis}),R(!1)},children:"Save Changes"})})]})}),s.jsx(ze,{open:A,onOpenChange:z,children:s.jsxs(Le,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"Face Detection Settings"}),s.jsx(Me,{children:"Adjust face detection sensitivity and threshold."})]}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs(Ie,{htmlFor:"face-threshold",children:["Detection Threshold: ",_.faceDetectionThreshold.toFixed(2)]}),s.jsx(ie,{id:"face-threshold",min:.1,max:1,step:.05,defaultValue:[_.faceDetectionThreshold],onValueChange:e=>{re({faceDetectionThreshold:e[0]})}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values (0.1-0.4) detect more faces but may include false positives. Higher values (0.6-1.0) only detect very clear faces."})]})}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>{re({faceDetectionThreshold:_.faceDetectionThreshold}),z(!1)},children:"Save Changes"})})]})}),s.jsx(ze,{open:V,onOpenChange:T,children:s.jsxs(Le,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"Lyric Alignment Settings"}),s.jsx(Me,{children:"Configure word-level synchronization for improved lip movements."})]}),s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Be,{id:"lyric-alignment",checked:_.useLyricAlignment,onCheckedChange:e=>{re({useLyricAlignment:e})}}),s.jsx(Ie,{htmlFor:"lyric-alignment",children:"Enable Lyric Alignment"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Lyric alignment provides more precise word-by-word lip synchronization. Best for close-up videos where precision is critical."})]}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>{re({useLyricAlignment:_.useLyricAlignment}),T(!1)},children:"Save Changes"})})]})}),s.jsx(ze,{open:H,onOpenChange:D,children:s.jsxs(Le,{className:"sm:max-w-[550px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"SadTalker Advanced Settings"}),s.jsx(Me,{children:"Configure 3D-aware talking head animation settings."})]}),s.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto pr-2",children:s.jsx(Ze,{})}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>D(!1),children:"Close"})})]})}),s.jsx(ze,{open:L,onOpenChange:U,children:s.jsxs(Le,{className:"sm:max-w-[500px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"Train Custom Voice Model"}),s.jsx(Me,{children:"Create a new voice model for voice cloning. You'll need 10+ minutes of clean voice recordings."})]}),s.jsx("div",{className:"py-4 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ie,{htmlFor:"voice-model-name",children:"Model Name"}),s.jsx("input",{type:"text",id:"voice-model-name",value:O.modelName,onChange:e=>$({...O,modelName:e.target.value}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",placeholder:"MyCustomVoice"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-model-type",children:"Voice Model Type"}),s.jsxs("select",{id:"voice-model-type",className:"w-full rounded-md border border-slate-300 p-2 mt-1",children:[s.jsx("option",{value:"rvc",children:"RVC (All Engines)"}),s.jsx("option",{value:"wav2lip_compatible",children:"Wav2Lip Compatible"}),s.jsx("option",{value:"sadtalker_compatible",children:"SadTalker Compatible"}),s.jsx("option",{value:"geneface_compatible",children:"GeneFace Compatible"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"RVC works with all lip sync engines"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-rvc-version",children:"RVC Version"}),s.jsxs("select",{id:"voice-rvc-version",value:O.rvcVersion,onChange:e=>$({...O,rvcVersion:e.target.value}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",children:[s.jsx("option",{value:"v1",children:"v1"}),s.jsx("option",{value:"v2",children:"v2 (Recommended)"})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-epochs",children:"Training Epochs"}),s.jsx("input",{type:"number",id:"voice-epochs",value:O.epochs,onChange:e=>$({...O,epochs:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",min:50,max:1e3}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended: 200+ for best quality"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-batch-size",children:"Batch Size"}),s.jsx("input",{type:"number",id:"voice-batch-size",value:O.batchSize,onChange:e=>$({...O,batchSize:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",min:1,max:16}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lower for less GPU memory"})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"voice-sample-rate",children:"Sample Rate"}),s.jsxs("select",{id:"voice-sample-rate",value:O.sampleRate,onChange:e=>$({...O,sampleRate:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",children:[s.jsx("option",{value:32e3,children:"32 kHz"}),s.jsx("option",{value:4e4,children:"40 kHz (Recommended)"}),s.jsx("option",{value:48e3,children:"48 kHz"})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ie,{htmlFor:"voice-training-files",children:"Training Audio Files"}),s.jsx("div",{className:"mt-1 flex gap-2",children:s.jsx(ae,{variant:"outline",onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},className:"w-full",children:"Select Audio Files"})}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Select 10+ minutes of clean voice recordings. More training data results in better quality."})]})]})}),s.jsxs(qe,{children:[s.jsx(ae,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),s.jsx(ae,{onClick:ne,children:"Start Training"})]})]})}),s.jsx(ze,{open:I,onOpenChange:B,children:s.jsxs(Le,{className:"sm:max-w-[550px]","data-bs-theme":"dark",children:[s.jsxs(Ee,{children:[s.jsx(Pe,{children:"GeneFace Advanced Settings"}),s.jsx(Me,{children:"Configure neural rendering settings for GeneFace."})]}),s.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto pr-2",children:s.jsx(Ke,{})}),s.jsx(qe,{children:s.jsx(ae,{onClick:()=>B(!1),children:"Close"})})]})}),s.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(!t)return;const l=t.name,i=e.target.getAttribute("data-purpose")||"lip-sync";e.target.removeAttribute("data-purpose"),"media-player"===i?c({title:"Audio Loaded",description:`File "${l}" loaded for playback.`}):(N(0),ue(je("/api/v1/upload/audio"),t).then((e=>{c({title:"Audio File Uploaded",description:`File "${l}" processed for lip-sync.`});const s=null==e?void 0:e.filename,t=null==e?void 0:e.task_id;s&&a?a("audio",s,l):c({title:"Processing Error",description:"Upload succeeded but failed to get file identifier.",variant:"destructive"}),t&&r&&r("audioTask",t),N(100)})).catch((e=>{c({title:"Upload Failed",description:`Failed to upload "${l}". ${(null==e?void 0:e.message)||"Unknown error"}`,variant:"destructive"}),N(0)}))),e.target.value=""},accept:"audio/*"}),s.jsx("input",{type:"file",ref:v,style:{display:"none"},onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(!t)return;const l=t.name,i=e.target.getAttribute("data-purpose")||"lip-sync";e.target.removeAttribute("data-purpose"),"media-player"===i?c({title:"Video Loaded",description:`File "${l}" loaded for playback.`}):(w(0),ue(je("/upload/video"),t).then((e=>{c({title:"Video File Uploaded",description:`File "${l}" processed for lip-sync.`});const s=null==e?void 0:e.filename,t=null==e?void 0:e.task_id;s&&a?a("video",s,l):c({title:"Processing Error",description:"Upload succeeded but failed to get file identifier.",variant:"destructive"}),t&&r&&r("uploadTask",t),w(100)})).catch((e=>{c({title:"Upload Failed",description:`Failed to upload "${l}". ${(null==e?void 0:e.message)||"Unknown error"}`,variant:"destructive"}),w(0)}))),e.target.value=""},accept:"video/*"}),s.jsx("input",{type:"file",ref:g,style:{display:"none"},onChange:e=>{const s=e.target.files;s&&s.length>0&&c({title:"Voice Training Files Selected",description:`${s.length} files selected for voice training.`})},accept:"audio/*",multiple:!0})]});var ce,de};export{Je as default};
