import{r as e,j as s}from"./react-vendor-DZn__gkT.js";import{t,u as a,v as r,w as i,x as n,S as l,y as c,z as o,A as d,B as u,E as m,F as h,G as x,J as f,K as p,M as v,N as g,Q as j,U as b,W as N,X as w}from"./radix-vendor-DUrlxRPG.js";import{c as y,u as k,B as C}from"./button-D0Qpo6P0.js";import{S,a as E,b as L,c as T,d as R,e as z,I as U}from"./select--geUwo6J.js";import{t as O,u as A,a as P,l as V,P as F,v as M,w as D,x as _,S as I,y as $,i as B,z as G,A as J,U as q,G as Q,o as W}from"./ui-utils-vendor-CIi_yc8Y.js";const X=t,K=e.forwardRef((({className:e,...t},a)=>s.jsx("textarea",{className:y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t})));K.displayName="Textarea";const H=n,Y=e.forwardRef((({className:e,...t},r)=>s.jsx(a,{ref:r,className:y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t})));Y.displayName=a.displayName;const Z=e.forwardRef((({className:e,...t},a)=>s.jsx(r,{ref:a,className:y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t})));Z.displayName=r.displayName;const ee=e.forwardRef((({className:e,...t},a)=>s.jsx(i,{ref:a,className:y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})));ee.displayName=i.displayName;const se=v,te=g;e.forwardRef((({className:e,inset:t,children:a,...r},i)=>s.jsxs(l,{ref:i,className:y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(O,{className:"ml-auto h-4 w-4"})]}))).displayName=l.displayName;e.forwardRef((({className:e,...t},a)=>s.jsx(c,{ref:a,className:y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}))).displayName=c.displayName;const ae=e.forwardRef((({className:e,sideOffset:t=4,...a},r)=>s.jsx(o,{children:s.jsx(d,{ref:r,sideOffset:t,className:y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})})));ae.displayName=d.displayName;const re=e.forwardRef((({className:e,inset:t,...a},r)=>s.jsx(u,{ref:r,className:y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a})));re.displayName=u.displayName;e.forwardRef((({className:e,children:t,checked:a,...r},i)=>s.jsxs(m,{ref:i,className:y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(h,{children:s.jsx(A,{className:"h-4 w-4"})})}),t]}))).displayName=m.displayName;e.forwardRef((({className:e,children:t,...a},r)=>s.jsxs(x,{ref:r,className:y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(h,{children:s.jsx(P,{className:"h-2 w-2 fill-current"})})}),t]}))).displayName=x.displayName;e.forwardRef((({className:e,inset:t,...a},r)=>s.jsx(f,{ref:r,className:y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}))).displayName=f.displayName;e.forwardRef((({className:e,...t},a)=>s.jsx(p,{ref:a,className:y("-mx-1 my-1 h-px bg-muted",e),...t}))).displayName=p.displayName;const ie=N,ne=w,le=e.forwardRef((({className:e,align:t="center",sideOffset:a=4,...r},i)=>s.jsx(j,{children:s.jsx(b,{ref:i,align:t,sideOffset:a,className:y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})})));le.displayName=b.displayName;const ce=({showTTS:t=!1,videoFile:a=null,audioFile:r=null})=>{const{toast:i}=k(),[n,l]=e.useState(80),[c,o]=e.useState(!1),[d,u]=e.useState(0),[m,h]=e.useState(!1),[x,f]=e.useState(!1),[p,v]=e.useState("1080p"),[g,j]=e.useState("Normal"),[b,N]=e.useState(""),[w,y]=e.useState(""),[O,A]=e.useState(!1),[P,ce]=e.useState(0),[oe,de]=e.useState(!1),[ue,me]=e.useState(""),[he,xe]=e.useState("lyrics"),[fe,pe]=e.useState("default"),[ve,ge]=e.useState([]),[je,be]=e.useState("bark"),Ne=e.useRef(null);e.useState(!1);const[we,ye]=e.useState(""),[ke,Ce]=e.useState(""),[Se,Ee]=e.useState(""),[Le,Te]=e.useState(""),Re=e.useRef(null),ze=e.useRef(null),Ue=e.useRef(null);e.useEffect((()=>{ge([{name:"Default Voice",id:"default"},{name:"Voice Model 1",id:"voice1"},{name:"Voice Model 2",id:"voice2"}])}),[]),e.useEffect((()=>{if(a){const e=URL.createObjectURL(a);return N(e),()=>{URL.revokeObjectURL(e)}}}),[a]),e.useEffect((()=>{if(r){const e=URL.createObjectURL(r);return y(e),A(!0),ce(0),i({title:"Audio Loaded",description:"Use the sync controls if you notice audio-video sync issues."}),()=>{URL.revokeObjectURL(e)}}A(!1)}),[r]),e.useEffect((()=>(Re.current&&(Re.current.volume=n/100,Re.current.muted=m,Re.current.addEventListener("click",Oe),Re.current.addEventListener("waiting",(()=>{})),Re.current.addEventListener("stalled",(()=>{}))),ze.current&&(ze.current.volume=n/100,ze.current.muted=m,ze.current.addEventListener("waiting",(()=>{})),ze.current.addEventListener("stalled",(()=>{}))),()=>{Re.current&&(Re.current.removeEventListener("click",Oe),Re.current.removeEventListener("waiting",(()=>{})),Re.current.removeEventListener("stalled",(()=>{}))),ze.current&&(ze.current.removeEventListener("waiting",(()=>{})),ze.current.removeEventListener("stalled",(()=>{})))})),[n,m]);const Oe=()=>{if((new(window.AudioContext||window.webkitAudioContext)).resume().then((()=>{})).catch((e=>{})),Re.current){const e=Re.current.play();void 0!==e&&e.then((()=>{var e;null==(e=Re.current)||e.pause()})).catch((e=>{}))}if(ze.current&&O){const e=ze.current.play();void 0!==e&&e.then((()=>{var e;null==(e=ze.current)||e.pause()})).catch((e=>{}))}};e.useEffect((()=>{const e=Re.current,s=ze.current;if(!e||!s||!O)return;const t=()=>{if(c){const t=e.currentTime-P/1e3;Math.abs(s.currentTime-t)>.05&&(s.currentTime=t),s.play().catch((e=>{}))}else s.pause()};e.addEventListener("play",t),e.addEventListener("pause",(()=>s.pause())),e.addEventListener("seeking",(()=>{s.currentTime=e.currentTime-P/1e3}));const a=setInterval((()=>{if(c){const t=e.currentTime-P/1e3;Math.abs(s.currentTime-t)>.2&&(s.currentTime=t)}}),5e3);return()=>{e.removeEventListener("play",t),e.removeEventListener("pause",(()=>s.pause())),e.removeEventListener("seeking",(()=>{s.currentTime=e.currentTime-P/1e3})),clearInterval(a)}}),[c,O,P]);const Ae=()=>{Re.current&&(c?(Re.current.pause(),ze.current&&O&&ze.current.pause()):(Re.current.play().catch((e=>{alert("Unable to play the video. Please make sure a video file has been loaded.")})),ze.current&&O&&(ze.current.currentTime=Re.current.currentTime-P/1e3,ze.current.play().catch((e=>{})))),o(!c))},Pe=()=>{const e=!m;h(e),Re.current&&(Re.current.muted=e),ze.current&&(ze.current.muted=e)},Ve=()=>{Ue.current&&(document.fullscreenElement?document.exitFullscreen():Ue.current.requestFullscreen().catch((e=>{})),f(!x))},Fe=e=>{v(e)},Me=e=>{j(e);let s=1;switch(e){case"2x":s=2;break;case"1.75x":s=1.75;break;case"1.5x":s=1.5;break;case"Normal":default:s=1;break;case"0.75x":s=.75;break;case"0.5x":s=.5}Re.current&&(Re.current.playbackRate=s),ze.current&&O&&(ze.current.playbackRate=s)},De=e=>{me(e.target.value)},_e=e=>{ye(e.target.value)},Ie=e=>{Ce(e.target.value)},$e=async()=>{let e="lyrics"===he?ke:ue;if(e.trim())if("default"!==fe&&fe)try{const s=await fetch("/api/v1/tts/synthesize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,voice_preset:fe,engine:je})});if(!s.ok){const e=await s.json().catch((()=>({})));throw new Error(e.detail||"TTS request failed")}const t=await s.json();i({title:"TTS Task Submitted",description:`Task ID: ${t.task_id||"unknown"}`})}catch(s){i({title:"TTS Error",description:s.message||"Failed to generate voice",variant:"destructive"})}else i({title:"Missing Voice",description:"Please select a voice model before generating.",variant:"destructive"});else i({title:"Missing Text",description:"Please enter some text before generating voice.",variant:"destructive"})},Be=()=>{const e={songTitle:Se,artist:Le,originalLyrics:we,parodyLyrics:ke,script:ue},s=JSON.stringify(e,null,2),t=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`${Se||"script"}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),alert("Script saved successfully!")},Ge=()=>{r?ke.trim()?alert("Lyrics alignment started! This would analyze audio and align text with it."):alert("Please enter some lyrics before attempting alignment."):alert("Please load an audio file first before aligning lyrics.")};e.useEffect((()=>{if(!Re.current)return;const e=()=>{if(Re.current){const e=Re.current.currentTime/Re.current.duration*100;u(e)}};return Re.current.addEventListener("timeupdate",e),()=>{Re.current&&Re.current.removeEventListener("timeupdate",e)}}),[]),e.useEffect((()=>{const e=()=>{f(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]);const Je=()=>{Ne.current&&Ne.current.click()},qe=e=>{const s=e.target.files;if(!s||0===s.length)return;const t={name:s[0].name.replace(/\.[^/.]+$/,""),id:`custom_${Date.now()}`};ge((e=>[...e,t])),pe(t.id)};e.useEffect((()=>{const e=ze.current;if(!e)return;const s=s=>{let t="Failed to load or play the audio.";switch(e.error?e.error.code:-1){case 1:t="Audio playback was aborted.";break;case 2:t="A network error caused the audio to fail.";break;case 3:t="The audio could not be decoded. Try a different file format.";break;case 4:t="The audio format is not supported by your browser."}i({title:"Audio Error",description:t+" Please try a different file.",variant:"destructive"}),A(!1)};return e.addEventListener("error",s),e.addEventListener("canplay",(()=>{})),e.addEventListener("progress",(()=>{const s=e.buffered;if(s.length>0){s.end(s.length-1),e.duration}})),()=>{e.removeEventListener("error",s),e.removeEventListener("canplay",(()=>{})),e.removeEventListener("progress",(()=>{}))}}),[]);const Qe=e=>{ce(e),c&&ze.current&&Re.current&&(ze.current.currentTime=Re.current.currentTime-e/1e3)},We=()=>{de(!oe)};return t?t?s.jsx("div",{className:"w-full flex justify-center items-center flex-col",children:s.jsxs("div",{className:"w-full max-w-[1280px] bg-gradient-to-b from-purple-900/80 to-indigo-900/80 backdrop-blur-sm rounded-lg overflow-hidden p-6 border border-purple-400/20 shadow-[0_8px_32px_rgba(0,0,0,0.3)]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Script & Lyrics Editor"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(C,{onClick:Be,className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[s.jsx(G,{size:16}),"Save"]})})]}),s.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[s.jsx("label",{className:"text-sm text-gray-300 whitespace-nowrap",children:"TTS Engine"}),s.jsxs(E,{value:je,onValueChange:e=>be(e),children:[s.jsx(L,{className:"w-[160px] bg-white/10 border-white/20 text-white",children:s.jsx(T,{placeholder:"Select engine"})}),s.jsxs(R,{children:[s.jsx(z,{value:"bark",children:"Bark"}),s.jsx(z,{value:"tortoise",children:"Tortoise"})]})]})]}),s.jsxs(H,{defaultValue:he,className:"w-full",onValueChange:xe,children:[s.jsxs(Y,{className:"mb-4 bg-purple-950/50",children:[s.jsxs(Z,{value:"lyrics",className:"data-[state=active]:bg-purple-800",children:[s.jsx(V,{className:"h-4 w-4 mr-2"}),"Parody Lyrics"]}),s.jsxs(Z,{value:"script",className:"data-[state=active]:bg-purple-800",children:[s.jsx(J,{className:"h-4 w-4 mr-2"}),"Full Script"]})]}),s.jsxs(ee,{value:"lyrics",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-300",children:"Song Title"}),s.jsx(U,{value:Se,onChange:e=>Ee(e.target.value),placeholder:"Enter song title",className:"bg-white/10 border-white/20 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-300",children:"Artist"}),s.jsx(U,{value:Le,onChange:e=>Te(e.target.value),placeholder:"Enter artist name",className:"bg-white/10 border-white/20 text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-300",children:"Original Lyrics"}),s.jsx(K,{placeholder:"Paste the original song lyrics here...",value:we,onChange:_e,className:"h-[300px] bg-white/10 border-white/20 text-white resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-300",children:"Parody Lyrics"}),s.jsx(K,{placeholder:"Type your parody lyrics here...",value:ke,onChange:Ie,className:"h-[300px] bg-white/10 border-white/20 text-white resize-none"})]})]})]}),s.jsx(ee,{value:"script",className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-gray-300",children:"Full Script"}),s.jsx(K,{placeholder:"Type your full script here for text-to-speech conversion...",value:ue,onChange:De,className:"w-full h-[400px] bg-white/10 border-white/20 text-white resize-none"})]})})]}),s.jsxs("div",{className:"mt-6 border-t border-white/20 pt-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-300 whitespace-nowrap",children:"Voice Model"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(E,{value:fe,onValueChange:pe,children:[s.jsx(L,{className:"w-[180px] bg-white/10 border-white/20 text-white",children:s.jsx(T,{placeholder:"Select voice"})}),s.jsxs(R,{children:[s.jsx(z,{value:"default",children:"Default Voice"}),s.jsx(z,{value:"eminem",children:"Eminem"}),s.jsx(z,{value:"morgan",children:"Morgan Freeman"}),s.jsx(z,{value:"taylor",children:"Taylor Swift"}),s.jsx(z,{value:"snoop",children:"Snoop Dogg"}),ve.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(z,{disabled:!0,value:"custom-header",children:s.jsx("span",{className:"font-medium",children:"Custom Voice Models"})}),ve.map((e=>s.jsx(z,{value:e.id,children:e.name},e.id)))]})]})]}),s.jsx(C,{variant:"outline",size:"icon",className:"border-white/20 hover:bg-purple-700 text-white",onClick:Je,title:"Upload custom voice model",children:s.jsx(q,{className:"h-4 w-4"})})]})]}),s.jsxs(C,{variant:"outline",className:"border-white/20 hover:bg-purple-700 text-white flex items-center gap-2",onClick:Ge,children:[s.jsx(Q,{size:16}),"Align Lyrics"]})]}),s.jsxs(C,{onClick:$e,className:"bg-purple-600 hover:bg-purple-700 text-white flex items-center gap-2",children:[s.jsx(W,{size:16}),"Generate Voice"]})]}),s.jsx("input",{type:"file",ref:Ne,className:"hidden",accept:".pth,.bin,.model",onChange:qe})]})}):null:s.jsx("div",{className:"w-full flex justify-center items-center",ref:Ue,children:s.jsx("div",{className:"w-full max-w-[1280px] bg-black/90 backdrop-blur-sm rounded-lg overflow-hidden border border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.1)]",children:s.jsx(X,{ratio:16/9,className:"bg-black",children:s.jsxs("div",{className:"relative w-full h-full",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("video",{ref:Re,className:"w-full h-full object-contain",controlsList:"nodownload",disablePictureInPicture:!0,onClick:Ae,src:b,children:!b&&s.jsx("div",{className:"text-white text-center p-4",children:"No video loaded. Use the Media menu to open a video file."})}),w&&s.jsx("audio",{ref:ze,src:w,preload:"auto",crossOrigin:"anonymous",className:"hidden"}),O&&s.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 px-3 py-1 rounded-full flex items-center gap-2 text-white text-sm",children:[s.jsx(V,{className:"w-4 h-4"}),s.jsx("span",{className:"mr-1",children:"External Audio"}),0!==P&&s.jsxs("span",{className:"text-xs opacity-75",children:["(",P>0?"+":"",P,"ms)"]})]})]}),!b&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900",children:s.jsxs("div",{className:"text-white text-center p-4",children:[s.jsx("p",{className:"mb-4 text-xl",children:"No video loaded"}),s.jsx("p",{className:"text-gray-400",children:"Use the Media menu to open a video file"})]})}),b&&!c&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(C,{variant:"ghost",size:"icon",className:"text-white bg-black/30 hover:bg-black/50 rounded-full w-16 h-16",onClick:Ae,children:s.jsx(F,{className:"w-8 h-8"})})}),b&&s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent pt-12",children:[O&&oe&&s.jsxs("div",{className:"px-4 pb-2 flex items-center gap-4",children:[s.jsx("span",{className:"text-white text-xs",children:"Audio Sync:"}),s.jsxs("div",{className:"flex items-center gap-2 bg-black/50 p-2 rounded",children:[s.jsx(C,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>Qe(P-50),children:"-50ms"}),s.jsx(C,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>Qe(P-10),children:"-10ms"}),s.jsxs("div",{className:"text-white text-xs w-14 text-center",children:[P,"ms"]}),s.jsx(C,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>Qe(P+10),children:"+10ms"}),s.jsx(C,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>Qe(P+50),children:"+50ms"}),s.jsx(C,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>Qe(0),children:"Reset"})]})]}),s.jsxs("div",{className:"h-12 flex items-center px-4 gap-4 text-white",children:[s.jsx(C,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",onClick:Ae,children:c?s.jsx(M,{className:"w-5 h-5"}):s.jsx(F,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1 h-1 bg-gray-600 rounded-full cursor-pointer",onClick:e=>{if(Re.current){const s=e.currentTarget,t=e.nativeEvent.offsetX/s.offsetWidth;u(100*t),Re.current.currentTime=t*Re.current.duration,ze.current&&O&&(ze.current.currentTime=Re.current.currentTime-P/1e3)}},children:s.jsx("div",{className:"h-full bg-red-600 rounded-full",style:{width:`${d}%`}})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ie,{children:[s.jsx(ne,{asChild:!0,children:s.jsx(C,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",onClick:Pe,children:m?s.jsx(D,{className:"w-5 h-5"}):s.jsx(_,{className:"w-5 h-5"})})}),s.jsx(le,{side:"top",className:"w-[120px] p-3",children:s.jsx(S,{value:[m?0:n],max:100,step:1,className:"h-24",orientation:"vertical",onValueChange:e=>(e=>{l(e);const s=e/100;Re.current&&(Re.current.volume=s),ze.current&&(ze.current.volume=s),h(0===e)})(e[0])})})]}),O&&s.jsx(C,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full "+(oe?"bg-white/20":""),onClick:We,title:"Audio Sync Controls",children:s.jsx(V,{className:"w-5 h-5"})}),s.jsxs(se,{children:[s.jsx(te,{asChild:!0,children:s.jsx(C,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",children:s.jsx(I,{className:"w-5 h-5"})})}),s.jsxs(ae,{className:"w-56",children:[O&&s.jsxs(s.Fragment,{children:[s.jsx(re,{children:s.jsx("span",{className:"font-medium",children:"Audio Sync"})}),s.jsx(re,{onClick:()=>Qe(P-250),children:"Delay -250ms"}),s.jsx(re,{onClick:()=>Qe(P-100),children:"Delay -100ms"}),s.jsx(re,{onClick:()=>Qe(0),children:"Reset Sync (0ms)"}),s.jsx(re,{onClick:()=>Qe(P+100),children:"Delay +100ms"}),s.jsx(re,{onClick:()=>Qe(P+250),children:"Delay +250ms"})]}),s.jsx(re,{children:s.jsx("span",{className:"font-medium",children:"Quality"})}),s.jsxs(re,{onClick:()=>Fe("1080p"),children:["1080p ","1080p"===p&&"✓"]}),s.jsxs(re,{onClick:()=>Fe("720p"),children:["720p ","720p"===p&&"✓"]}),s.jsxs(re,{onClick:()=>Fe("480p"),children:["480p ","480p"===p&&"✓"]}),s.jsxs(re,{onClick:()=>Fe("360p"),children:["360p ","360p"===p&&"✓"]}),s.jsx(re,{children:s.jsx("span",{className:"font-medium",children:"Playback Speed"})}),s.jsxs(re,{onClick:()=>Me("2x"),children:["2x ","2x"===g&&"✓"]}),s.jsxs(re,{onClick:()=>Me("1.75x"),children:["1.75x ","1.75x"===g&&"✓"]}),s.jsxs(re,{onClick:()=>Me("1.5x"),children:["1.5x ","1.5x"===g&&"✓"]}),s.jsxs(re,{onClick:()=>Me("Normal"),children:["Normal ","Normal"===g&&"✓"]}),s.jsxs(re,{onClick:()=>Me("0.75x"),children:["0.75x ","0.75x"===g&&"✓"]}),s.jsxs(re,{onClick:()=>Me("0.5x"),children:["0.5x ","0.5x"===g&&"✓"]})]})]}),s.jsx(C,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",onClick:Ve,children:x?s.jsx($,{className:"w-5 h-5"}):s.jsx(B,{className:"w-5 h-5"})})]})]})]})]})})})})};export{ce as default};
